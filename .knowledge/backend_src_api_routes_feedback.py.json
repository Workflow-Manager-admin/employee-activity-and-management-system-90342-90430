{"is_source_file": true, "format": "Python", "description": "This file defines FastAPI route handlers for managing feedback entities within an employee activity and management system. It includes endpoints for creating feedback, retrieving feedback by employee, work log, and current user, as well as feedback given by managers. The code interacts with storage, models, and authentication modules to perform CRUD operations and enforce access controls.", "external_files": ["../models", "../storage", "../auth"], "external_methods": ["storage.get_work_log", "storage.get_employee", "storage.create_feedback", "storage.create_audit_entry", "storage._read_json_file", "get_current_user", "get_manager_or_admin_user"], "published": ["router"], "classes": [{"name": "Feedback", "description": "Data model for feedback items."}, {"name": "FeedbackCreate", "description": "Data model for creating feedback."}, {"name": "Employee", "description": "Represents an employee user."}, {"name": "ActionType", "description": "Enumeration of action types for audit logs."}], "methods": [{"name": "create_feedback( feedback_data: FeedbackCreate, current_user: Employee = Depends(get_manager_or_admin_user) )", "description": "Endpoint to create feedback for a work log, only accessible to authorized managers or admins.", "scope": "", "scopeKind": ""}, {"name": "get_employee_feedback( employee_id: str, current_user: Employee = Depends(get_current_user) )", "description": "Retrieve all feedback for a particular employee, subject to permission checks.", "scope": "", "scopeKind": ""}, {"name": "get_work_log_feedback( work_log_id: str, current_user: Employee = Depends(get_current_user) )", "description": "Retrieve feedback for a specific work log, with permission enforcement.", "scope": "", "scopeKind": ""}, {"name": "get_my_feedback(current_user: Employee = Depends(get_current_user))", "description": "Retrieve all feedback received by the current user.", "scope": "", "scopeKind": ""}, {"name": "get_given_feedback( current_user: Employee = Depends(get_manager_or_admin_user) )", "description": "Retrieve all feedback given by the current manager or admin.", "scope": "", "scopeKind": ""}], "calls": ["storage.get_work_log", "storage.get_employee", "storage.create_feedback", "storage.create_audit_entry", "storage._read_json_file", "get_current_user", "get_manager_or_admin_user"], "search-terms": ["feedback", "work-log", "employee", "api routes", "FastAPI", "feedback creation", "feedback retrieval", "permissions"], "state": 2, "file_id": 14, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "create_feedback", "path": "/home/kavia/workspace/code-generation/employee-activity-and-management-system-90342-90430/backend/src/api/routes/feedback.py", "pattern": "/^async def create_feedback($/", "language": "Python", "kind": "function", "signature": "( feedback_data: FeedbackCreate, current_user: Employee = Depends(get_manager_or_admin_user) )"}, {"_type": "tag", "name": "get_employee_feedback", "path": "/home/kavia/workspace/code-generation/employee-activity-and-management-system-90342-90430/backend/src/api/routes/feedback.py", "pattern": "/^async def get_employee_feedback($/", "language": "Python", "kind": "function", "signature": "( employee_id: str, current_user: Employee = Depends(get_current_user) )"}, {"_type": "tag", "name": "get_given_feedback", "path": "/home/kavia/workspace/code-generation/employee-activity-and-management-system-90342-90430/backend/src/api/routes/feedback.py", "pattern": "/^async def get_given_feedback($/", "language": "Python", "kind": "function", "signature": "( current_user: Employee = Depends(get_manager_or_admin_user) )"}, {"_type": "tag", "name": "get_my_feedback", "path": "/home/kavia/workspace/code-generation/employee-activity-and-management-system-90342-90430/backend/src/api/routes/feedback.py", "pattern": "/^async def get_my_feedback(current_user: Employee = Depends(get_current_user)):$/", "language": "Python", "kind": "function", "signature": "(current_user: Employee = Depends(get_current_user))"}, {"_type": "tag", "name": "get_work_log_feedback", "path": "/home/kavia/workspace/code-generation/employee-activity-and-management-system-90342-90430/backend/src/api/routes/feedback.py", "pattern": "/^async def get_work_log_feedback($/", "language": "Python", "kind": "function", "signature": "( work_log_id: str, current_user: Employee = Depends(get_current_user) )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/employee-activity-and-management-system-90342-90430/backend/src/api/routes/feedback.py", "pattern": "/^router = APIRouter(prefix=\"\\/feedback\", tags=[\"feedback\"])$/", "language": "Python", "kind": "variable"}], "hash": "540ac98dbeed50222ebee7dc5f9cad9f", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/routes/feedback.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/feedback\", tags=[\"feedback\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"29": ""}]}