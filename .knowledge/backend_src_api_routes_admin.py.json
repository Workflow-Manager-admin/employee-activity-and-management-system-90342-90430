{"is_source_file": true, "format": "Python", "description": "This file defines API routes for admin functionalities in a FastAPI application, including endpoints for dashboard statistics, audit trails, system settings, bulk employee creation, and productivity reports.", "external_files": ["../models", "../storage", "../auth"], "external_methods": ["storage.get_all_employees", "storage._read_json_file", "storage.get_settings", "storage.update_settings", "storage.create_audit_entry", "storage.create_employee", "storage.get_work_logs_by_employee"], "published": ["router"], "classes": [{"name": "DashboardStats", "description": "Data model representing dashboard statistics overview."}, {"name": "AuditTrail", "description": "Model representing an audit trail record."}, {"name": "SystemSettings", "description": "Model representing system configuration settings."}, {"name": "SettingsUpdate", "description": "Model used for updating system settings."}], "methods": [{"name": "get_dashboard_stats(current_user: Employee = Depends(get_admin_user))", "description": "Endpoint to retrieve dashboard statistics related to employees, leave requests, and work logs.", "scope": "", "scopeKind": ""}, {"name": "get_audit_trails( limit: int = Query(100, le=1000), user_id: Optional[str] = Query(None), action: Optional[ActionType] = Query(None), resource_type: Optional[str] = Query(None), current_user: Employee = Depends(get_admin_user) )", "description": "Endpoint to retrieve filtered audit trail entries.", "scope": "", "scopeKind": ""}, {"name": "get_system_settings(current_user: Employee = Depends(get_admin_user))", "description": "Retrieve current system settings.", "scope": "", "scopeKind": ""}, {"name": "update_system_settings( settings_update: SettingsUpdate, current_user: Employee = Depends(get_admin_user) )", "description": "Update system settings and create an audit entry for the change.", "scope": "", "scopeKind": ""}, {"name": "bulk_create_employees( employees_data: List[dict], current_user: Employee = Depends(get_admin_user) )", "description": "Create multiple employee records in bulk from provided data.", "scope": "", "scopeKind": ""}, {"name": "get_productivity_report( start_date: Optional[str] = Query(None), end_date: Optional[str] = Query(None), department: Optional[str] = Query(None), current_user: Employee = Depends(get_admin_user) )", "description": "Generate productivity report for employees over specified date range.", "scope": "", "scopeKind": ""}], "calls": ["storage.get_all_employees", "storage._read_json_file", "storage.get_settings", "storage.update_settings", "storage.create_audit_entry", "storage.create_employee", "storage.get_work_logs_by_employee"], "search-terms": ["admin API routes", "dashboard statistics endpoint", "audit trail filtering", "system settings management", "bulk employee creation", "productivity report", "FastAPI", "APIRouter", "admin"], "state": 2, "file_id": 13, "knowledge_revision": 49, "git_revision": "e4a6b3552a677d42c09fb03f4577c207fe3e7a81", "revision_history": [{"27": ""}, {"49": "e4a6b3552a677d42c09fb03f4577c207fe3e7a81"}], "ctags": [{"_type": "tag", "name": "bulk_create_employees", "path": "/home/kavia/workspace/code-generation/employee-activity-and-management-system-90342-90430/backend/src/api/routes/admin.py", "pattern": "/^async def bulk_create_employees($/", "language": "Python", "kind": "function", "signature": "( employees_data: List[dict], current_user: Employee = Depends(get_admin_user) )"}, {"_type": "tag", "name": "get_audit_trails", "path": "/home/kavia/workspace/code-generation/employee-activity-and-management-system-90342-90430/backend/src/api/routes/admin.py", "pattern": "/^async def get_audit_trails($/", "language": "Python", "kind": "function", "signature": "( limit: int = Query(100, le=1000), user_id: Optional[str] = Query(None), action: Optional[ActionType] = Query(None), resource_type: Optional[str] = Query(None), current_user: Employee = Depends(get_admin_user) )"}, {"_type": "tag", "name": "get_dashboard_stats", "path": "/home/kavia/workspace/code-generation/employee-activity-and-management-system-90342-90430/backend/src/api/routes/admin.py", "pattern": "/^async def get_dashboard_stats(current_user: Employee = Depends(get_admin_user)):$/", "language": "Python", "kind": "function", "signature": "(current_user: Employee = Depends(get_admin_user))"}, {"_type": "tag", "name": "get_productivity_report", "path": "/home/kavia/workspace/code-generation/employee-activity-and-management-system-90342-90430/backend/src/api/routes/admin.py", "pattern": "/^async def get_productivity_report($/", "language": "Python", "kind": "function", "signature": "( start_date: Optional[str] = Query(None), end_date: Optional[str] = Query(None), department: Optional[str] = Query(None), current_user: Employee = Depends(get_admin_user) )"}, {"_type": "tag", "name": "get_system_settings", "path": "/home/kavia/workspace/code-generation/employee-activity-and-management-system-90342-90430/backend/src/api/routes/admin.py", "pattern": "/^async def get_system_settings(current_user: Employee = Depends(get_admin_user)):$/", "language": "Python", "kind": "function", "signature": "(current_user: Employee = Depends(get_admin_user))"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/employee-activity-and-management-system-90342-90430/backend/src/api/routes/admin.py", "pattern": "/^router = APIRouter(prefix=\"\\/admin\", tags=[\"admin\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_system_settings", "path": "/home/kavia/workspace/code-generation/employee-activity-and-management-system-90342-90430/backend/src/api/routes/admin.py", "pattern": "/^async def update_system_settings($/", "language": "Python", "kind": "function", "signature": "( settings_update: SettingsUpdate, current_user: Employee = Depends(get_admin_user) )"}], "hash": "3c77720306d98b35ac5d1c558994b77b", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/api/routes/admin.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/admin\", tags=[\"admin\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}